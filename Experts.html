<!DOCTYPE HTML>
<html>
<head>
    <title>Experts - EnergyConsult</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <style>
        /* Add styles to format expert cards */
        .expert-card {
            border: 1px solid #ddd;
            border-radius: 5px;
            margin: 10px;
            padding: 15px;
            background: #f9f9f9;
        }
        .expert-header {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .expert-info p {
            margin: 5px 0;
        }
    </style>
    <script type="module">
        // Import Firebase functions
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js";
        import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-database.js";

        // Your Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyB5yIyAhB9fbbaXTW03GRBIuU58XUe1q3E",
            authDomain: "energyconsult-7a837.firebaseapp.com",
            databaseURL: "https://energyconsult-7a837-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "energyconsult-7a837",
            storageBucket: "energyconsult-7a837.appspot.com",
            messagingSenderId: "131060027292",
            appId: "1:131060027292:web:1bf6fe415c06214f5d8259",
            measurementId: "G-FT6CQTN0P2"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        // Fetch data from the 'experts' node
        document.addEventListener("DOMContentLoaded", () => {
            const expertsContainer = document.getElementById("experts-container");
            const expertsRef = ref(db, "experts");

            onValue(expertsRef, (snapshot) => {
                expertsContainer.innerHTML = ""; // Clear existing content
                const data = snapshot.val();

                for (const key in data) {
                    const expert = data[key];

                    // Create expert card
                    const expertCard = document.createElement("div");
                    expertCard.className = "expert-card";

                    expertCard.innerHTML = `
                        <div class="expert-header">${expert.fullName}</div>
                        <div class="expert-info">
                            <p><strong>Specialization:</strong> ${expert.specialization}</p>
                            <p><strong>Experience:</strong> ${expert.experience}</p>
                            <p><strong>Key Skills:</strong> ${expert.keySkills}</p>
                            <p><strong>Certifications:</strong> ${expert.certifications}</p>
                            <p><strong>Projects:</strong> ${expert.projects}</p>
                        </div>
                    `;

                    expertsContainer.appendChild(expertCard);
                }
            });
        });
    </script>
</head>
<body>
    <div id="wrapper">
        <header id="header">
            <div class="content">
                <h1>Our Experts</h1>
                <p>Connect with top energy consulting professionals</p>
                <a href="join.html" class="join-button">Join the Experts</a>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="intro.html">Intro</a></li>
                    <li><a href="experts.html">Experts</a></li>
                    <li><a href="projects.html">Projects</a></li>
                    <li><a href="contacts.html">Contacts</a></li>
                </ul>
            </nav>
        </header>

        <main>
            <article id="experts">
                <div id="experts-container">
                    <!-- Expert profiles will be dynamically loaded here -->
                </div>
            </article>
        </main>

        <footer id="footer">
            <p>&copy; EnergyConsult. Design by <a href="https://html5up.net">HTML5 UP</a>.</p>
        </footer>
    </div>
</body>
</html>
